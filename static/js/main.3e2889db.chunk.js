(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(8),o=a.n(c),r=(a(14),a(15),a(16),a(2)),u=a(6),i=a(1),s=a(19),m=a(3),d=a.n(m);function f(e){var t=e.todo,a=e.changeStatus,c=e.deleteTodo,o=e.updateTodoItem,r=Object(n.useState)(!1),u=Object(i.a)(r,2),s=u[0],m=u[1],f=Object(n.useState)(t.title),p=Object(i.a)(f,2),b=p[0],v=p[1];Object(n.useEffect)((function(){m(""),v(t.title)}),[t]);return l.a.createElement("li",{className:d()({completed:t.completed,editing:!0===s}),onDoubleClick:function(){return m(!0)}},l.a.createElement("div",{className:"view"},l.a.createElement("input",{type:"checkbox",className:"toggle",value:t.id,onChange:function(e){return a(e.target.value)},checked:t.completed}),l.a.createElement("label",null,t.title),l.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return c(t.id)}})),l.a.createElement("input",{type:"text",className:"edit",value:b,onChange:function(e){return t=e.target.value,void v(t);var t},onKeyDown:function(e){return a=e.key,n=t.id,void(0!==b.length&&("Enter"===a&&o(n,b),"Escape"===a&&(m(""),v(t.title))));var a,n},onBlur:function(){return e=t.id,void o(e,b);var e}}))}var p=function(e){var t=e.todos,a=e.changeStatus,n=e.deleteTodo,c=(e.toggleAll,e.updateTodoItem);return l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",{className:"todo-list"},t.map((function(e){return l.a.createElement(f,{todo:e,changeStatus:a,key:e.id,deleteTodo:n,updateTodoItem:c})}))))},b=function(e){var t=e.title,a=e.onSubmit,n=e.addTitle;return l.a.createElement("form",{onSubmit:a},l.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:t,onChange:function(e){return n(e.target.value)}}))},v="all",E="active",g="completed",O=function(e){var t=e.setFilterStatus,a=e.filterStatus,n=e.activeSelectAll;return l.a.createElement("ul",{className:"filters"},l.a.createElement("li",null,l.a.createElement("button",{type:"button",className:d()("filter",{selected:a===v}),onClick:function(){return t(v)}},"All")),l.a.createElement("li",null,l.a.createElement("button",{type:"button",className:d()("filter",{selected:a===E}),onClick:function(){return t(E)}},"Active")),n&&l.a.createElement("li",null,l.a.createElement("button",{type:"button",className:d()("filter",{selected:a===g}),onClick:function(){return t(g)}},"Completed")))},j=function(e){var t=e.filteredTodos,a=e.setFilterStatus,n=e.filterStatus,c=e.activeSelectAll,o=e.clearAllCompleted;return l.a.createElement("footer",{className:"footer"},!!t.length&&l.a.createElement("span",{className:"todo-count"},"".concat(t.length," item(s) left")),l.a.createElement(O,{setFilterStatus:a,filterStatus:n,activeSelectAll:c}),c&&l.a.createElement("button",{type:"button",className:"clear-completed",onClick:o},"Clear completed tasks"))};var S=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=function(e,t){var a=Object(n.useState)(JSON.parse(localStorage.getItem(e))||t),l=Object(i.a)(a,2),c=l[0],o=l[1];return[c,function(t){o(t),localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),m=Object(i.a)(o,2),d=m[0],f=m[1],v=Object(n.useState)(d),E=Object(i.a)(v,2),g=E[0],O=E[1],S=Object(n.useState)("all"),h=Object(i.a)(S,2),k=h[0],N=h[1],y=Object(n.useState)(!1),C=Object(i.a)(y,2),T=C[0],A=C[1],F=Object(n.useState)(!1),I=Object(i.a)(F,2),w=I[0],x=I[1],J=function(e){var t=d.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{completed:e})}));x(e),f(t),O(t)};Object(n.useEffect)((function(){d.every((function(e){return!0===e.completed}))&&x(!0),d.every((function(e){return!1===e.completed}))&&x(!1)}),[d]),Object(n.useEffect)((function(){if("all"===k)O(d);else{var e="completed"===k,t=d.filter((function(t){return t.completed===e}));O(t)}}),[k,d]),Object(n.useEffect)((function(){T?d.every((function(e){return!1===e.completed}))&&A(!1):d.some((function(e){return!0===e.completed}))&&A(!0)}),[d,T]);var D=Object(n.useCallback)((function(){var e=d.filter((function(e){return!1===e.completed}));f(e),O(e),"completed"===k&&N("all")}),[k,f,d]),B=Object(n.useCallback)((function(e,t){var a=d.map((function(a){return a.id===e?Object(r.a)(Object(r.a)({},a),{},{title:t}):a}));f(a),O(a)}),[f,d]);return l.a.createElement("section",{className:"todoapp"},l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"todos"),l.a.createElement(b,{addTitle:function(e){c(e)},onSubmit:function(e){if(e.preventDefault(),0!==a.length){var t={title:a,id:Object(s.a)(),completed:!1};f([].concat(Object(u.a)(d),[t])),O([].concat(Object(u.a)(d),[t])),c("")}},title:a})),!!d.length&&l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"main"},l.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:w,onChange:function(e){return J(e.target.checked)}}),l.a.createElement("label",{htmlFor:"toggle-all",title:"Mark all as completed/not completed"},"Mark all as completed/not completed"),l.a.createElement(p,{todos:g,changeStatus:function(e){var t=d.map((function(t){return t.id===e?Object(r.a)(Object(r.a)({},t),{},{completed:!t.completed}):t}));f(t),O(t)},deleteTodo:function(e){var t=d.filter((function(t){return t.id!==e}));f(t),O(t)},toggleAll:J,updateTodoItem:B})),l.a.createElement(j,{filteredTodos:g,setFilterStatus:N,filterStatus:k,activeSelectAll:T,clearAllCompleted:D})))};o.a.render(l.a.createElement(S,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.3e2889db.chunk.js.map